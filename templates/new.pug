extends layout.pug

mixin form-field(field, title, errors)
  - var error = errors && errors[field]
  .form-group(class=(error ? 'has-danger' : ''))
    label.form-control-label(for=field) #{title}
    block
    if error
      div.form-control-feedback #{error.message}

block content
  div.text-center
    h1 Share your new opus with the world
    h2.lead And make up for all those awkward stares
    
  div.container.p-0.mb-5
    form(action="/coffeegrams" method="post" enctype="multipart/form-data")

      +form-field('image', 'Upload your coffeegram', errors)
        input(class="form-control" name="image" type="file" accept="image/jpeg" required)
      
      +form-field('description', 'Describe your coffeegram', errors)
        textarea(class="form-control" name="description" placeholder="Latte ipsum dolor sit awhile" autofocus) #{coffeeParams ? coffeeParams.description : ""}

      +form-field('type', 'Classify your coffee', errors)
        select(class="form-control" name="type")
          option Cappuccino
          option Cortado
          option Espresso
          option Flat White
          option Latte
          option Macchiato

      +form-field('shop', 'Location', errors)
        input(class="form-control" name="shop" type="text" value=(coffeeParams ? coffeeParams.shop : "") placeholder="Soul Caffeine")
      
      button(type="submit" class="btn btn-primary") Submit
